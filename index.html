<!DOCTYPE html><html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Explorador Armónico</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .note { transition: transform 0.2s; }
    .note:hover { transform: scale(1.1); cursor: pointer; }
    .tónica { background-color: #4ade80; }
    .subdominante { background-color: #60a5fa; }
    .dominante { background-color: #f87171; }
  </style>
</head>
<body class="bg-gray-100 text-gray-800">
  <div class="max-w-4xl mx-auto p-4">
    <header class="text-center mb-6">
      <h1 class="text-4xl font-bold">Explorador Armónico</h1>
      <p class="mt-2 text-lg">Aprende progresiones armónicas desde cero con visuales, sonidos y juegos interactivos</p>
    </header><!-- Círculo de quintas interactivo -->
<section class="bg-white shadow p-4 rounded mb-6">
  <h2 class="text-2xl font-semibold mb-2">1. Círculo de Quintas Interactivo</h2>
  <div id="circle" class="flex flex-wrap justify-center gap-2"></div>
  <p class="text-sm mt-2 text-gray-600">Haz clic en una tonalidad para ver sus funciones armónicas y ejemplos.</p>
</section>

<!-- Teclado visual -->
<section class="bg-white shadow p-4 rounded mb-6">
  <h2 class="text-2xl font-semibold mb-2">2. Visualización en Teclado</h2>
  <div id="keyboard" class="flex gap-1 overflow-auto"></div>
  <p class="text-sm mt-2 text-gray-600">Los acordes se mostrarán en el teclado. Colores: tónica (verde), subdominante (azul), dominante (rojo).</p>
</section>

<!-- Constructor de progresiones -->
<section class="bg-white shadow p-4 rounded mb-6">
  <h2 class="text-2xl font-semibold mb-2">3. Constructor de Progresiones</h2>
  <div class="flex gap-2 flex-wrap mb-2" id="progression-builder"></div>
  <button onclick="playProgression()" class="bg-blue-500 text-white px-4 py-2 rounded">Reproducir progresión</button>
</section>

<!-- Ruta de aprendizaje -->
<section class="bg-white shadow p-4 rounded mb-6">
  <h2 class="text-2xl font-semibold mb-2">4. Ruta de Aprendizaje</h2>
  <ol class="list-decimal ml-4">
    <li>Introducción a funciones armónicas con metáforas.</li>
    <li>Progresiones básicas (I-IV-V-I).</li>
    <li>Estilos musicales: pop, blues, flamenco, etc.</li>
    <li>Sustituciones y acordes relativos.</li>
    <li>Ear training: identifica la función de cada acorde.</li>
    <li>Pizarra libre con IA para reharmonización y exportación MIDI.</li>
  </ol>
</section>

  </div>  <script>
    const tonalidades = ['C', 'G', 'D', 'A', 'E', 'B', 'F#', 'Db', 'Ab', 'Eb', 'Bb', 'F'];
    const funciones = {
      'C': { tónica: 'C', subdominante: 'F', dominante: 'G' },
      'G': { tónica: 'G', subdominante: 'C', dominante: 'D' },
      // Se puede completar para otras tonalidades
    };

    tonalidades.forEach(tone => {
      const btn = document.createElement('button');
      btn.textContent = tone;
      btn.className = 'note p-2 rounded shadow bg-yellow-100';
      btn.onclick = () => mostrarFuncion(tone);
      document.getElementById('circle').appendChild(btn);
    });

    function mostrarFuncion(tone) {
      const keyboard = document.getElementById('keyboard');
      keyboard.innerHTML = '';
      const f = funciones[tone];
      if (!f) return;

      ['tónica', 'subdominante', 'dominante'].forEach(fn => {
        const div = document.createElement('div');
        div.textContent = f[fn];
        div.className = fn + ' px-4 py-2 rounded text-white';
        div.onclick = () => agregarAcorde(f[fn]);
        keyboard.appendChild(div);
      });
    }

    function agregarAcorde(acorde) {
      const cont = document.getElementById('progression-builder');
      const span = document.createElement('span');
      span.textContent = acorde;
      span.className = 'px-3 py-1 bg-gray-200 rounded';
      cont.appendChild(span);
    }

    function playProgression() {
      const acordes = Array.from(document.querySelectorAll('#progression-builder span')).map(e => e.textContent);
      alert('Reproduciendo: ' + acordes.join(' - ')); // Aquí se puede integrar MIDI o Web Audio
    }
  </script></body>
</html>
